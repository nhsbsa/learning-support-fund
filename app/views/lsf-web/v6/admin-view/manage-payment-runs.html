<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/accessible-autocomplete@2.0.4/dist/accessible-autocomplete.min.css">
<script src="https://cdn.jsdelivr.net/npm/accessible-autocomplete@2.0.4/dist/accessible-autocomplete.min.js"></script>

{% extends 'layout-admin-nhsuk.html' %}

{% block pageTitle %}
Manage payment runs
{% endblock %}

{% block content %}
<form action="/lsf-web/v6/admin-view/manage-payment-runs" method="POST">
	<div class="nhsuk-grid-column-full">
		<h1 class="nhsuk-heading-l">Manage payment runs</h1>
	</div>
		
	<div class="nhsuk-grid-column-one-third">
		<div class="nhsuk-form-group" id="filterPaymentRuns-group">
			<label class="nhsuk-label wide-label" for="filterPaymentRuns">Filter payment runs by run date or time</label>
			<div id="filterPaymentRuns-container"></div>
		</div>
	</div>
		
	<div class="nhsuk-grid-column-full">
		<div class="nhsuk-form-group">
			<button class="nhsuk-button nhsuk-u-margin-right-4" data-module="nhsuk-button" type="submit" value="Search" id="searchButton">Apply filter </button>
			<a class="nhsuk-button nhsuk-button--secondary" style="float: right;" href="/lsf-web/v6/admin-view/add-payment-run" data-module="nhsuk-button" type="submit" id="searchButton">Add payment run</a>
			<p><a href="/lsf-web/v6/admin-view/manage-payment-runs" id="clearButton">Reset filter</a></p>
		</div>
	</div>

</form>

<div class="nhsuk-grid-column-full">
  <hr class="" style="border-color: #005eb8; border-width: 4px">
      <table role="table" id="paymentRunsTable" class="nhsuk-table-responsive nhsuk-u-margin-bottom-5">
        <h2 class="heading-large nhsuk-u-visually-hidden">Payment runs table</h2>
          <caption class="nhsuk-table__caption">Payment runs<span id="ariaLiveMessage" class="nhsuk-u-visually-hidden"> - contains 96 results</span><span id="resultMessage" aria-hidden="true"> - contains 96 results</span><span class="nhsuk-u-visually-hidden"> (column headers with links are sortable)</span></caption>
      
        <thead role="rowgroup" class="nhsuk-table__head">	
          <tr role="row">
            <th role="columnheader" class="bold" scope="col" data-sort="string"><a href="#">Run date</th>
            <th role="columnheader" class="bold" scope="col" data-sort="string"><a href="#">Run time</th>
            <th role="columnheader" class="bold" scope="col" data-sort="string"><a href="#">Payment date</th>
            <th role="columnheader" class="bold" scope="col">Status</th>
            <th role="columnheader" class="bold" scope="col">Enabled</th>
            <th role="columnheader" class="bold" scope="col">Actions</th>
          </tr>
        </thead>
        <tbody class="nhsuk-table__body">
          
          <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run date</span>
              <span class="wordbreak">07/11/2022</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run time</span>
              <span class="wordbreak">12:44</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Payment date</span>20/11/2025
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Status</span>Complete
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Enabled</span>Yes
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Actions</span>
			  <!--a href="/lsf-web/v6/admin-view/edit-payment-run">Change<span class="nhsuk-u-visually-hidden">payment run</span></a> or 
            <a href="/lsf-web/v6/admin-view/delete-payment-run">remove payment run</span></a-->
            </td>
          </tr>

		  <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run date</span>
              <span class="wordbreak">22/03/2024</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run time</span>
              <span class="wordbreak">09:10</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Payment date</span>	01/01/2025
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Status</span>Complete
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Enabled</span>Yes
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Actions</span>
			  <!--a href="/lsf-web/v6/admin-view/edit-payment-run">Change<span class="nhsuk-u-visually-hidden">payment run</span></a> or 
            <a href="/lsf-web/v6/admin-view/delete-payment-run">remove payment run</span></a-->
            </td>
          </tr>

		  <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run date</span>
              <span class="wordbreak">22/03/2024</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run time</span>
              <span class="wordbreak">15:11</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Payment date</span>01/01/2025
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Status</span>Complete
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Enabled</span>Yes
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Actions</span>
			  <!--a href="/lsf-web/v6/admin-view/edit-payment-run">Change<span class="nhsuk-u-visually-hidden">payment run</span></a> or 
            <a href="/lsf-web/v6/admin-view/delete-payment-run">remove payment run</span></a-->
            </td>
          </tr>

		  <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run date</span>
              <span class="wordbreak">22/03/2024</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run time</span>
              <span class="wordbreak">16:30</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Payment date</span>09/08/2024
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Status</span>Complete
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Enabled</span>Yes
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Actions</span>
			  <!--a href="/lsf-web/v6/admin-view/edit-payment-run">Change<span class="nhsuk-u-visually-hidden">payment run</span></a> or 
            <a href="/lsf-web/v6/admin-view/delete-payment-run">remove payment run</span></a-->
            </td>
          </tr>

		  <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run date</span>
              <span class="wordbreak">02/01/2015</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Run time</span>
              <span class="wordbreak">12:01</span>
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Payment date</span>01/03/2017
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Status</span>Pending
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Enabled</span>No
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading">Actions</span>
			      <a href="/lsf-web/v6/admin-view/edit-payment-run">Change<span class="nhsuk-u-visually-hidden">payment run</span></a> or 
            <a href="/lsf-web/v6/admin-view/delete-payment-run">remove payment run</span></a>
            </td>
          </tr>

		</tbody>
	</table>

	<nav class="nhsbsa-pagination__nav" role="navigation" aria-label="Pagination">
			  <ul class="nhsbsa-pagination" >
				  <li class="nhsbsa-pagination__item nhsbsa-pagination-li">
					  <a class="nhsbsa-pagination__link nhsbsa-pagination__current" href="#">1</a>
				  </li>
			  </ul>
			  <a class="nhsbsa-pagination__link nhsbsa-pagination-next__link" href="" aria-label="Next page">Next<span aria-hidden="true" role="presentation">&nbsp;Â»</span></a>
	  
			  <div class="nhsbsa-pagination__summary nhsbsa-summary__alignment">Showing <span id="tdaeFirstItemNumber">1</span> - <span id="tdaeLastItemNumber">5</span> of <span id="tdaeTotalItemsNumber">96 results</span></div>
		  </nav>

  </div>
{% endblock %}

{% block pageScripts %}
<script type="text/javascript">
  const paymentRuns = [
      "07/11/2022",
      "22/03/2024",
      "22/03/2024",
      "22/03/2024",
      "02/01/2015",
      "12:44",
      "09:10",
      "15:11",
      "16:30",
      "12:01"
  ];

  accessibleAutocomplete({
      element: document.querySelector('#filterPaymentRuns-container'),
      id: 'filterPaymentRuns', // To match it to the existing element
      source: paymentRuns,
      onConfirm: function(val) {
          document.querySelector('#filterPaymentRuns').value = val;
          filterTable(val, 'paymentRunsTable');
      }
  });

  function filterTable(filterText, tableId) {
      let filter, table, tr, td, i, txtValue;
      filter = filterText.toUpperCase();
      table = document.getElementById(tableId);
      tr = table.getElementsByTagName("tr");

      for (i = 1; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[0];
          if (td) {
              txtValue = td.textContent || td.innerText;
              if (txtValue.toUpperCase().indexOf(filter) > -1) {
                  tr[i].style.display = "";
              } else {
                  tr[i].style.display = "none";
              }
          }       
      }
  }
</script>

<style>
	.wide-label {
		display: inline-block;
		width: 380px; /* Adjust the width as needed */
	}
</style>
{% endblock %}